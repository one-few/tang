<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.w3.org/1999/xhtml" xmlns:v-on="http://www.w3.org/1999/xhtml">
<head th:replace="comm::head"></head>
<body>
<div th:replace="comm::navigation"></div>
<div class="container">
    <div class="row">
        <div class="col-md-9 column">
            <div class="row">
                <div class="col-md-12 column nob-p">
                    <ul class="list-group">
                        <li class="list-group-item nob" th:each="blog : ${blogs}">
                            <a href="#" class="wz" th:text="${blog.title}" th:href="@{/post/{id}(id=${blog.id})}"></a>
                            <div >
                                <span th:text="${blog.createDate}"></span>
                                <a class="pull-right" th:href="@{/author/{id}(id=${blog.username})}" th:text="${blog.nickname}"></a>
                            </div>
                        </li>
                        <li class="list-group-item nob">
                           <a id="up" href="#" class="">上一页</a><a class="pull-right" id="next">下一页</a>
                        </li>
                    </ul>
            </div>
        </div>
        </div>

        <div class="col-md-3 column nob-p">
            <div th:replace="comm::advertise"></div>
        </div>
    </div>
</div>
</div>
</body>
<script>
    $(function(){
        let nextId = $("#next");
        let upId = $("#up");

        let nextPageClick = nextId.click(function(){
            let p = Number(pg);
            if (p < 0){
                p++;
            }
            if (p > 11){
                return;
            }
            window.location.href = UrlUpdateParams(window.location.href, "pg", (++p))
        });
        let upPageClick = upId.click(function(){
            let p = Number(pg);
            if (p <= 1){
                return;
            }else{
                window.location.href = UrlUpdateParams(window.location.href, "pg", (--p))
            }
        });

        let pg = getQueryVariable("pg");
        if (pg==null || Number(pg) <= 1){
            upId.css('opacity', '0.2');
            upId.attr("href","javascript:return false;")
        }
        if (pg!=null && Number(pg) >= 10){
            nextId.css('opacity', '0.2');
            nextId.attr("href","javascript:return false;")
        }
    })
</script>
</html>
